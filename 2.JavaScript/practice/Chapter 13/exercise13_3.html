<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Exercise 13.3</title>
</head>

<body>
    <script>
        let counter = 0;

        function promiseMe(val) {
            return new Promise(resolve => {
                setTimeout(() => {
                    // Resolve needs to return a single value. Not multiple parameters. So have to combine it in a single sentence.
                    resolve(`x value ${val} counter:${counter}`); // Success message.
                }, 1000); // Wait 1 second before being called.
            })
        }

        // Async 
        async function output(val) {
            console.log(`ready ${val} counter:${counter}`); // Gets called immediately.
            let talk = await promiseMe(val); // Await is only valid in an async function.
            console.log(talk); // Logs result of the promise.
        }

        for (let i = 0; i < 4; i++) {
            output(i);
        }
    </script>
</body>

</html>