<!-- Why don't arrow functions work -->
<!doctype html>
<html>

<head>
    <title>JS Tester</title>
</head>

<body>
    <div>
        <button>Button 1</button>
        <button>Button 2</button>
        <button>Button 3</button>
    </div>
    <script>
        // No 4. As you loop through the buttons attach an event listener that when clicked invokes the output() function.
        const buttons = document.querySelectorAll('button');
        buttons.forEach(button => {
            // Standard Functions -- Works
            // function output() {
            //     console.log(this.textContent);
            // }
            // button.addEventListener("click", output);

            // Anonymous function -- Works
            // button.addEventListener("click", function () {
            //     console.log(this.textContent);
            // })

            // Arrow function -- Doesn't work
            button.addEventListener("click", output => function () {
                console.log(this.textContent);
            })

            // Arrow function with currentTarget -- Works (Google)        
            // button.addEventListener("click", output => {
            //     console.log(output.currentTarget.textContent);
            // });

            /* Explanation (Chat GPT): but I don't understand what it's trying to say.
            When you use an arrow function instead of a regular function for the listener, this doesn't work the same way. Arrow functions have a different behavior for this, 
            and in this case, this will not refer to the button element. Instead, it will refer to the value of this in the scope where the arrow function was defined 
            (which might be the global window object).            
            To avoid this problem, you can use event.currentTarget instead of this inside the listener function.event.currentTarget always refers to the element that the
            listener was attached to, so you can be sure that it will work correctly.
            */
        })
    </script>
</body>

</html>
